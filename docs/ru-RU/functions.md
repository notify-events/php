# Доступные функции

## Создание объекта сообщения

```php
$message = new Message('Текст <b>важного</b> сообщения', 'Заголовок');
```

В качестве опциональных параметров, вы можете указать значения ``Приоритета`` и ``Уровня`` создаваемого сообщения, в третьем и четвёртом параметре соответственно.

## Установка параметров

#### Заголовок сообщения
Для установки заголовка сообщения используется функция `setTitle`.
```php
$message->setTitle('Заголовок');
```

#### Текст сообщения
Для установки текста сообщения используется функция `setContent`.

Вы можете использовать HTML-теги: `<b>`, `<i>`, `<a>`, `<br>`, для форматирования сообщения.

```php
$message->setContent('Текст <b>важного</b> сообщения');
```

#### Приоритет
Для установки приоритета сообщения используется функция `setPriority`.
```php
$message->setPriority(Message::PRIORITY_NORMAL);
```

Список возможных значений:
```php
Message::PRIORITY_LOWEST  - Незначительный
Message::PRIORITY_LOW     - Низкий
Message::PRIORITY_NORMAL  - Нормальный
Message::PRIORITY_HIGH    - Высокий
Message::PRIORITY_HIGHEST - Критичный 
```

#### Уровень
Для установки уровня сообщения используется функция `setLevel`.
```php
$message->setLevel(Message::LEVEL_SUCCESS);
```

Список возможных значений:
```php
Message::LEVEL_VERBOSE - Подробный
Message::LEVEL_INFO    - Информация
Message::LEVEL_NOTICE  - Уведомление
Message::LEVEL_WARNING - Предупреждение
Message::LEVEL_ERROR   - Ошибка
Message::LEVEL_SUCCESS - Успешно
```

#### Прикрепление файла
Прикрепление файла возможно несколькими способами:

```php
// В виде прикрепления локального файла
$message->addFile('path\to\local\file');
```

```php
// В бинарном виде
$message->addFileFromContent('binary_file_content');
```

```php
// В виде прикрепления файла, расположенного по указанному URL
$message->addFileFromUrl('https://some.file.source/very_important.doc');
```

В качестве опциональных параметров, в каждом методе вы можете указать ``Имя`` и ``MimeType`` прикрепляемого файла, во втором и третьем параметре соответственно.

#### Прикрепление изображения
Прикрепление изображения доступно несколькими способами:

```php
// В виде прикрепления локального файла
$message->addImage('path\to\local\file');
```

```php
// В бинарном виде
$message->addImageFromContent('binary_file_content');
```

```php
// В виде прикрепления файла, расположенного по указанному URL
$message->addImageFromUrl('https://some.image.source/very_lazy_cat.jpg');
```

В качестве опциональных параметров, в каждом методе вы можете указать ``Имя`` и ``MimeType`` прикрепляемого файла, во втором и третьем параметре соответственно.

## Получение параметров

#### Заголовок сообщения
Для получения установленного заголовка сообщения используется функция `getTitle`.
```php
$title = $message->getTitle();
```

#### Текст сообщения
Для получения установленного текста сообщения используется функция `getContent`.
```php
$content = $message->getContent();
```

#### Приоритет
Для получения установленного приоритета сообщения используется функция `getPriority`.
```php
$priority = $message->getPriority();
```

#### Уровень
Для получения установленного уровня сообщения используется функция `getLevel`.
```php
$level = $message->getLevel();
```

## Отправка сообщения
Отправка сообщения производится функцией `send`.

На вход функция требует указать токен канала, который вы получили при создании канала на стороне сервиса [Notify.Events](https://notify.events). 

```php
$message->send('XXXXXXXX');
```